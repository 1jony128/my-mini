# üéØ –°–∏—Å—Ç–µ–º–∞ PRO –ö—Ä–µ–¥–∏—Ç–æ–≤ —Å –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞–º–∏ –ú–æ–¥–µ–ª–µ–π

## üìã –û–±–∑–æ—Ä

–ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫—Ä–µ–¥–∏—Ç–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–æ—Ä–æ–≥–∏–º –º–æ–¥–µ–ª—è–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Ö –ø–ª–∞–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –°—Ç–æ–∏–º–æ—Å—Ç–∏ –ú–æ–¥–µ–ª–µ–π

```typescript
MODEL_COST_MULTIPLIERS = {
  // –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏ (1x)
  'deepseek': 1,
  'gpt-3.5-turbo': 1,
  'claude-3-haiku': 1,
  'gemini-pro': 1,
  
  // –°—Ä–µ–¥–Ω–∏–µ –º–æ–¥–µ–ª–∏ (2-3x)
  'gpt-4': 3,
  'claude-3-sonnet': 2.5,
  'gemini-pro-vision': 2,
  'grok-beta': 2.5,
  
  // –ü—Ä–µ–º–∏—É–º –º–æ–¥–µ–ª–∏ (4-8x)
  'gpt-4-turbo': 4,
  'claude-3-opus': 6,
  'gpt-4o': 5,
  'gpt-4o-mini': 2.5,
}
```

### –õ–∏–º–∏—Ç—ã –ü–ª–∞–Ω–æ–≤

```typescript
PRO_PLAN_LIMITS = {
  weekly: {
    credits: 100,
    daily_messages: 30,
    daily_tokens: 15000,
    max_model_cost: 4  // –ú–∞–∫—Å–∏–º—É–º 4x –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç
  },
  monthly: {
    credits: 400,
    daily_messages: 80,
    daily_tokens: 40000,
    max_model_cost: 6  // –ú–∞–∫—Å–∏–º—É–º 6x –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç
  },
  yearly: {
    credits: 5000,
    daily_messages: 150,
    daily_tokens: 75000,
    max_model_cost: 8  // –ú–∞–∫—Å–∏–º—É–º 8x –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç
  }
}
```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –§—É–Ω–∫—Ü–∏–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ú–æ–¥–µ–ª–∏

```typescript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –¥–æ—Å—Ç—É–ø–Ω–∞ –ª–∏ –º–æ–¥–µ–ª—å –¥–ª—è –ø–ª–∞–Ω–∞
isModelAvailableForPlan(modelId: string, planType: string): boolean

// –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –ø–ª–∞–Ω–∞
getAvailableModelsForPlan(planType: string): string[]
```

### 2. –†–∞—Å—á–µ—Ç –°—Ç–æ–∏–º–æ—Å—Ç–∏

```typescript
// –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ –≤ –∫—Ä–µ–¥–∏—Ç–∞—Ö
getModelCost(modelId: string): number

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–º–∏—Ç—ã PRO –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
checkProLimits(userId: string, modelId: string): ProLimitCheck
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```typescript
// –û–±–Ω–æ–≤–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ PRO
updateProUsage(
  userId: string, 
  chatId: string, 
  modelId: string, 
  tokensUsed: number, 
  messageLength: number
): Promise<void>
```

## üìä –ë–∞–∑–∞ –î–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã

1. **users** - –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - `pro_credits_remaining` - –æ—Å—Ç–∞—Ç–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ–≤
   - `pro_credits_total` - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä–µ–¥–∏—Ç–æ–≤
   - `pro_usage_warnings` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π

2. **pro_usage_monitoring** - –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
   - `messages_count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π
   - `tokens_used` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
   - `credits_spent` - –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã

3. **pro_usage_log** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏
   - `model_id` - ID –º–æ–¥–µ–ª–∏
   - `credits_spent` - –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã
   - `model_cost_multiplier` - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –º–æ–¥–µ–ª–∏

### –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è

- **pro_usage_stats** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ PRO –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üé® UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### ModelSelector

- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–ª–∞–Ω–∞
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (1x, 2x, 3x, etc.)
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏

### ProUsageStats

- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –æ—Å—Ç–∞—Ç–æ–∫ –∫—Ä–µ–¥–∏—Ç–æ–≤
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ –ø–æ –≥—Ä—É–ø–ø–∞–º —Å—Ç–æ–∏–º–æ—Å—Ç–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üîÑ –õ–æ–≥–∏–∫–∞ –†–∞–±–æ—Ç—ã

### 1. –ü—Ä–∏ –í—ã–±–æ—Ä–µ –ú–æ–¥–µ–ª–∏

1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏ –¥–ª—è –ø–ª–∞–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞
3. –ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞ - –º–æ–¥–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è

### 2. –ü—Ä–∏ –û—Ç–ø—Ä–∞–≤–∫–µ –°–æ–æ–±—â–µ–Ω–∏—è

1. –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ª–∏–º–∏—Ç—ã –∫—Ä–µ–¥–∏—Ç–æ–≤
2. –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –¥–Ω–µ–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã
3. –ï—Å–ª–∏ –≤—Å–µ OK - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
4. –ü–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ AI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 3. –ü—Ä–∏ –û–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. –í—ã—á–∏—Ç–∞—é—Ç—Å—è –∫—Ä–µ–¥–∏—Ç—ã —Å–æ–≥–ª–∞—Å–Ω–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—É –º–æ–¥–µ–ª–∏
2. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –¥–Ω–µ–≤–Ω–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
3. –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ –ª–æ–≥
4. –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –û—à–∏–±–æ–∫

### –¢–∏–ø—ã –û—à–∏–±–æ–∫

- `INSUFFICIENT_CREDITS` - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤
- `MODEL_NOT_AVAILABLE_FOR_PLAN` - –º–æ–¥–µ–ª—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –ø–ª–∞–Ω–∞
- `DAILY_MESSAGE_LIMIT_EXCEEDED` - –ø—Ä–µ–≤—ã—à–µ–Ω –¥–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–π
- `DAILY_TOKEN_LIMIT_EXCEEDED` - –ø—Ä–µ–≤—ã—à–µ–Ω –¥–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç —Ç–æ–∫–µ–Ω–æ–≤
- `SUBSCRIPTION_EXPIRED` - –ø–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–ª–∞

### –°–æ–æ–±—â–µ–Ω–∏—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

```typescript
// –ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è –æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–π –º–æ–¥–µ–ª–∏
"–ú–æ–¥–µ–ª—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –≤–∞—à–µ–≥–æ –ø–ª–∞–Ω–∞. –°—Ç–æ–∏–º–æ—Å—Ç—å –º–æ–¥–µ–ª–∏: 6x, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª—è –ø–ª–∞–Ω–∞: 4x. –û–±–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π –º–æ–¥–µ–ª–∏."

// –ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è –æ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ –∫—Ä–µ–¥–∏—Ç–æ–≤
"–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤. –û—Å—Ç–∞–ª–æ—Å—å: 50, –Ω—É–∂–Ω–æ: 60"
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ù–æ–≤–æ–π –ú–æ–¥–µ–ª–∏

1. –î–æ–±–∞–≤–∏—Ç—å –≤ `MODEL_COST_MULTIPLIERS`
2. –î–æ–±–∞–≤–∏—Ç—å –≤ `AI_MODELS` (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
3. –û–±–Ω–æ–≤–∏—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –õ–∏–º–∏—Ç–æ–≤ –ü–ª–∞–Ω–∞

1. –û–±–Ω–æ–≤–∏—Ç—å `PRO_PLAN_LIMITS`
2. –û–±–Ω–æ–≤–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç
3. –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –∫—Ä–µ–¥–∏—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–æ–≤ –ø–æ –º–æ–¥–µ–ª—è–º
- –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–µ–π
- –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –±–æ–ª–µ–µ –¥–æ—Ä–æ–≥–∏–µ –ø–ª–∞–Ω—ã

### –ê–ª–µ—Ä—Ç—ã

- –ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∫ –ª–∏–º–∏—Ç–∞–º (70%)
- –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ (100%)
- –ù–µ–æ–±—ã—á–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

## üîÆ –ë—É–¥—É—â–∏–µ –£–ª—É—á—à–µ–Ω–∏—è

1. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏
2. **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã** - –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è VIP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **–ë–æ–Ω—É—Å–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã** - –Ω–∞–≥—Ä–∞–¥—ã –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
4. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
5. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** - —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
